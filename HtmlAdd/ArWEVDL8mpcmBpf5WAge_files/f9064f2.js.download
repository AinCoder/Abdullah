(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{697:function(t,r,e){"use strict";e.r(r);var o=e(3),n=(e(38),e(20),e(0)),d=e(107),c=e(52),m=e(7),l=n.a.extend({name:"Form",layout:"form",components:{FormComponent:d.a,MoonLoader:c.a},data:function(){return{isFormLoaded:!1,form:{},payload:{},urlParams:void 0,url:void 0,referrer:void 0,stickyContactData:void 0,stickyContactFingerprint:void 0}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function r(){var e,o,n,d,c,m,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.params,o=t.$axios,n=t.app,d=t.error,c=t.query,r.prev=1,r.next=4,o.$get("/form/"+e.id);case 4:return m=r.sent,r.abrupt("return",{formPayload:m,formId:e.id,notrack:c.notrack});case 8:return r.prev=8,r.t0=r.catch(1),404!=(l=r.t0&&r.t0.response&&r.t0.response.status)&&n.$sentry.captureException(r.t0),d({statusCode:l,message:r.t0&&r.t0.response&&r.t0.response.data.msg}),r.abrupt("return",{message:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,8]])})))()},created:function(){window.parent.postMessage(["fetch-query-params",window.name||""],"*"),window.parent.postMessage(["fetch-sticky-contacts",this.formPayload.locationId],"*")},mounted:function(){var t=this;this.notrack||(Object(m.f)()?window.onmessage=function(r){"query-params"==r.data[0]?(t.updateSessionRecord(r.data[2],r.data[3]),t.urlParams=r.data[1],t.url=r.data[2],t.referrer=r.data[3]):"sticky-contacts"==r.data[0]&&(t.stickyContactData=r.data[1],t.stickyContactFingerprint=r.data[2])}:this.updateSessionRecord())},methods:{formDataStep:function(t){this.payload=t},updateSessionRecord:function(t,r){this.formPayload&&Object(m.b)(this.formPayload.locationId,"form",this.formId,this.formPayload.name,t,r)}}}),f=e(2),component=Object(f.a)(l,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{ref:"app",attrs:{id:"app"}},[e("section",[e("section",{staticClass:"hl_wrapper--inner form-builder",attrs:{id:"form-builder"}},[t.isFormLoaded?e("div",{staticClass:"loader-container"},[e("moon-loader",{attrs:{loading:t.isFormLoaded,color:"#188bf6",size:"30px"}})],1):t._e(),t._v(" "),e("section",{staticClass:"hl_form-builder--main",attrs:{id:"hl_form_builder_main"}},[e("FormComponent",{attrs:{formId:t.formId,formData:t.formPayload,timezone:void 0,calendar:void 0,selectedSlot:void 0,event:void 0,stripeToken:void 0,pageUrl:t.url,urlParams:t.urlParams,baseReferrrer:t.referrer,stickyContactData:t.stickyContactData,stickyContactFingerprint:t.stickyContactFingerprint},on:{step:t.formDataStep}})],1)])])])}),[],!1,null,null,null);r.default=component.exports}}]);